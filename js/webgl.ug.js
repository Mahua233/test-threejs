function init(){var e=document.createElement("div");e.id="Background",e.style.position="fixed",e.style.top=0,e.style.left=0,e.style.zIndex=-1,(camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,1,1e4)).position.z=200,(scene=new THREE.Scene).background=0,particles=[];for(var t=2*Math.PI,n=new THREE.SpriteCanvasMaterial({color:14540253,program:function(e){e.beginPath(),e.arc(0,0,.5,0,t,!0),e.fill()}}),o=0,a=0;a<AMOUNTX;a++)for(var i=0;i<AMOUNTY;i++)for(var r=0;r<AMOUNTZ;r++)(particle=particles[o++]=new THREE.Sprite(n)).position.x=a*SEPARATION-AMOUNTX*SEPARATION/2,particle.position.y=i*SEPARATION-AMOUNTY*SEPARATION/2,particle.position.z=r*SEPARATION-AMOUNTZ*SEPARATION/2,particle.scale.multiplyScalar(15),scene.add(particle);for(var d=0;d<particles.length;d++){(p=new THREE.Object3D).copy(particles[d]),targets.grid.push(p)}for(var l=0;l<particles.length;l++){(p=new THREE.Object3D).position.x=2*Math.random()-1,p.position.y=2*Math.random()-1,p.position.z=2*Math.random()-1,p.position.normalize(),p.position.multiplyScalar(10*Math.random()+450),p.scale.multiplyScalar(5),targets.sphere.push(p)}for(var s=new THREE.Vector3,o=0;o<particles.length;o++){(p=new THREE.Object3D).copy(particles[o]),p.position.multiplyScalar(.2),s.x=2*p.position.x,s.y=p.position.y,s.z=2*p.position.z,p.lookAt(s),targets.cube.push(p)}for(var c=0;c<particles.length;c++){(p=new THREE.Object3D).copy(particles[c]),p.position.multiplyScalar(.5),p.position.y=0,targets.plane.push(p)}for(o=0;o<particles.length;o++){var p=new THREE.Object3D,s=new THREE.Vector3(0,0,0);p.position=s,p.scale.multiplyScalar(.01),targets.back.push(p)}(renderer=new THREE.CanvasRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,window.innerHeight),renderer.autoClear=!0,renderer.setClearColor(0),e.appendChild(renderer.domElement),document.body.appendChild(e),document.addEventListener("mousemove",onMouseMove,!1),window.addEventListener("resize",onWindowResize,!1)}function onWindowResize(){windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2,camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}function onMouseMove(e){mouseX=e.clientX-windowHalfX,mouseY=e.clientY-windowHalfY}function animate(){requestAnimationFrame(animate),camera.position.x+=.05*(mouseX-camera.position.x)+positionX,camera.position.y+=.05*(-mouseY-camera.position.y)+positionY,camera.lookAt(scene.position),render(),TWEEN.update()}function render(){renderer.render(scene,camera)}function mainPageText(e,t){var n=document.createElement("section");return n.id=e,n.appendChild(t),page.appendChild(n),n}function tagAndWord(e,t){var n=document.createElement(e);return n.appendChild(t),n}function textNode(e){return document.createTextNode(e)}function highLight(e){$("#"+e+"li").addClass("highLight");for(var t=0;t<list.length;t++)list[t]!=e&&$("#"+list[t]+"li").removeClass("highLight")}function transform(e,t){TWEEN.removeAll();for(var n=0;n<particles.length;n++){var o=particles[n],a=e[n];new TWEEN.Tween(o.position).to({x:a.position.x,y:a.position.y,z:a.position.z},t+t*Math.random()).easing(TWEEN.Easing.Exponential.InOut).start(),new TWEEN.Tween(o.scale).to({x:a.scale.x,y:a.scale.y,z:a.scale.z},t+t*Math.random()).easing(TWEEN.Easing.Exponential.InOut).start()}new TWEEN.Tween(this).to({},2*t).onUpdate(render).start()}var particles,particle,scene,camera,renderer,mouseX=0,mouseY=0,AMOUNTX=10,AMOUNTY=10,AMOUNTZ=10,SEPARATION=500,windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2,targets={grid:[],sphere:[],cube:[],plane:[],back:[]},positionX=0,positionY=0,watchOverCount=0;init(),animate();var page=document.createElement("div");page.id="Text",document.body.appendChild(page);var title=function(){var e=document.createElement("h1");e.appendChild(document.createTextNode("Motion "));var t=document.createElement("span");return t.style.color="#29F",t.appendChild(document.createTextNode("G")),e.appendChild(t),e.appendChild(document.createTextNode("round")),e.className="title",e},mainTitle=mainPageText("Title",tagAndWord("header",title())),next=function(){var e=document.createElement("div");e.id="nextPage";var t=document.createElement("div");return t.className="downSharp",e.appendChild(t),e},introText=function(){var e=tagAndWord("p",textNode("Motion ground is a Demo. It's make from ")),t=tagAndWord("a",textNode("Three.js"));t.href="https://threejs.org",e.appendChild(t),e.appendChild(textNode(".")),e.appendChild(document.createElement("br")),e.appendChild(textNode("You can move mouse to move camera."));var n=tagAndWord("div",e);n.className="pageforintro";var o=tagAndWord("a",next());return o.id="ToSphere",o.href="#Sphere",n.appendChild(o),n};mainTitle.appendChild(introText());var sphereTitle=function(){var e=tagAndWord("span",document.createTextNode("S"));e.style.color="#ff39d1";var t=tagAndWord("h1",e);return t.appendChild(document.createTextNode("phere")),t.className="title sphere",t},secondPage=mainPageText("Sphere",tagAndWord("header",sphereTitle())),sphereText=function(){var e=tagAndWord("p",textNode("It's a sphere with some noise, Math.random is useful."));e.appendChild(document.createElement("br")),e.appendChild(textNode("You can move mouse to move camera."));var t=tagAndWord("div",e);t.className="pageforintro";var n=tagAndWord("a",next());return n.id="ToCube",n.href="#Cube",t.appendChild(n),t};secondPage.appendChild(sphereText());var cubeText=function(){var e=tagAndWord("p",textNode("Cube with particles, model is so likely gird."));e.appendChild(document.createElement("br")),e.appendChild(textNode(" So I used same model and change position.")),e.appendChild(document.createElement("br")),e.appendChild(textNode("You can move mouse to move camera."));var t=tagAndWord("div",e);t.className="pageforintro";var n=tagAndWord("a",next());return n.id="ToPlane",n.href="#Plane",t.appendChild(n),t},cubeTitle=function(){var e=tagAndWord("span",document.createTextNode("C"));e.style.color="#54dd6d";var t=tagAndWord("h1",e);return t.appendChild(document.createTextNode("ube")),t.className="title cube",t},thirdPage=mainPageText("Cube",tagAndWord("header",cubeTitle()));thirdPage.appendChild(cubeText());var planeText=function(){var e=tagAndWord("p",textNode("Plane is useful to make 3D. Do you think so?"));e.appendChild(document.createElement("br")),e.appendChild(textNode("You can move mouse to move camera."));var t=tagAndWord("div",e);t.className="pageforintro";var n=tagAndWord("a",next());return n.id="ToEnd",n.href="#End",t.appendChild(n),t},planeTitle=function(){var e=tagAndWord("span",document.createTextNode("P"));e.style.color="#41ffff";var t=tagAndWord("h1",e);return t.appendChild(document.createTextNode("lane")),t.className="title plane",t},forthPage=mainPageText("Plane",tagAndWord("header",planeTitle()));forthPage.appendChild(planeText());var EndTitle=function(){var e=tagAndWord("span",document.createTextNode("E"));e.style.color="#dd3132";var t=tagAndWord("h1",e);return t.appendChild(document.createTextNode("nd")),t.className="title end",t},ret=function(){var e=document.createElement("div");e.id="returnMain";var t=document.createElement("p");return t.appendChild(document.createTextNode("Back to Main")),t.className="returnText",e.appendChild(t),e},gotoCode=function(){var e=document.createElement("div");e.id="gotoCode";var t=document.createElement("p");return t.appendChild(document.createTextNode("View Code")),t.className="returnText",e.appendChild(t),e},endText=function(){var e=tagAndWord("div",tagAndWord("p",textNode("Thank you for your watching. You can back and watching again to change with menu.")));e.className="pageforintro";var t=tagAndWord("a",ret());t.id="ToReturn",t.href="#";var n=tagAndWord("a",gotoCode());return n.id="GotoOther",n.href="./js/webgl.js",n.style.display="none",e.appendChild(t),e.appendChild(n),e},endPage=mainPageText("End",tagAndWord("header",EndTitle()));endPage.appendChild(endText());var introToSphere=document.getElementById("ToSphere"),sphereToCube=document.getElementById("ToCube"),cubeToPlane=document.getElementById("ToPlane"),planeToEnd=document.getElementById("ToEnd"),endToIntro=document.getElementById("ToReturn");introToSphere.onclick=function(){return $("html,body").animate({scrollTop:$("#Sphere").offset().top},1500),!1},sphereToCube.onclick=function(){return $("html,body").animate({scrollTop:$("#Cube").offset().top},1500),!1},cubeToPlane.onclick=function(){return $("html,body").animate({scrollTop:$("#Plane").offset().top},1500),!1},planeToEnd.onclick=function(){return $("html,body").animate({scrollTop:$("#End").offset().top},1500),!1};var list=["Intro","Sphere","Cube","Plane","End"],idList=["#Title","#Sphere","#Cube","#Plane","#End"],nav=function(){navDiv=document.createElement("div"),navDiv.id="nav";for(var e=document.createElement("ul"),t=0;t<5;t++){var n=document.createElement("li");n.className="nav-li",n.id=list[t]+"li";var o=document.createElement("a");o.id="a"+list[t],o.href=idList[t],o.appendChild(document.createTextNode(list[t])),n.appendChild(o),e.appendChild(n)}return navDiv.appendChild(e),navDiv};document.body.appendChild(nav());var linkToList1=document.getElementById("a"+list[0]),linkToList2=document.getElementById("a"+list[1]),linkToList3=document.getElementById("a"+list[2]),linkToList4=document.getElementById("a"+list[3]),linkToList5=document.getElementById("a"+list[4]);linkToList1.onclick=function(){return $("html,body").animate({scrollTop:$(idList[0]).offset().top},1500),!1},linkToList2.onclick=function(){return $("html,body").animate({scrollTop:$(idList[1]).offset().top},1500),!1},linkToList3.onclick=function(){return $("html,body").animate({scrollTop:$(idList[2]).offset().top},1500),!1},linkToList4.onclick=function(){return $("html,body").animate({scrollTop:$(idList[3]).offset().top},1500),!1},linkToList5.onclick=function(){return $("html,body").animate({scrollTop:$(idList[4]).offset().top},1500),!1};var getNavId=document.getElementById("nav");getNavId.style.display="none",endToIntro.onclick=function(){return $("html,body").animate({scrollTop:$("#Title").offset().top},1500),$("#nav").fadeIn(),$("#GotoOther").fadeIn(),!1},$(document).ready(function(){$(window).scroll(function(e){$(document).scrollTop()<20?(transform(targets.grid,2e3),new TWEEN.Tween(camera.position).to({z:200},2e3).easing(TWEEN.Easing.Exponential.InOut).start(),positionX=0,positionY=0,0!=watchOverCount&&"none"==getNavId.style.display&&($("#nav").fadeIn(),$("#GotoOther").fadeIn()),highLight(list[0])):$(document).scrollTop()>=$("#Sphere").offset().top-20&&$(document).scrollTop()<$("#Cube").offset().top-20?(transform(targets.sphere,2e3),new TWEEN.Tween(camera.position).to({z:1e3},2e3).easing(TWEEN.Easing.Exponential.InOut).start(),camera.lookAt(scene.position),positionX=0,positionY=0,highLight(list[1])):$(document).scrollTop()>=$("#Cube").offset().top-20&&$(document).scrollTop()<$("#Plane").offset().top-20?(transform(targets.cube,2e3),new TWEEN.Tween(camera.position).to({z:1e3},2e3).easing(TWEEN.Easing.Exponential.InOut).start(),positionX=40,positionY=50,highLight(list[2])):$(document).scrollTop()>=$("#Plane").offset().top-20&&$(document).scrollTop()<$("#End").offset().top-20?(transform(targets.plane,2e3),new TWEEN.Tween(camera.position).to({z:200},2e3).easing(TWEEN.Easing.Exponential.InOut).start(),positionX=0,positionY=0,highLight(list[3])):$(document).scrollTop()>=$("#End").offset().top-20?(transform(targets.back,2e3),new TWEEN.Tween(camera.position).to({z:200},2e3).easing(TWEEN.Easing.Exponential.InOut).start(),positionX=0,positionY=0,watchOverCount+=1,highLight(list[4])):(transform(targets.grid,2e3),new TWEEN.Tween(camera.position).to({z:200},2e3).easing(TWEEN.Easing.Exponential.InOut).start(),positionX=0,positionY=0)})});